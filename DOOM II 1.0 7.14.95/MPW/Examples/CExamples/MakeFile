#	File MakeFile -  Make instructions for C examples.##	Copyright Apple Computer, Inc. 1986-1994#	All rights reserved.##	This makefile builds:#		The sample C tool:				Count#		The sample desk accessory:		Memory#		The sample performance tool:	TestPerf## 	You can define {SymOptions} as "-sym on" or "-sym off" for use with SADE# 	We also recommend requiring prototypes for all functionsSymOptions	=	-sym FullSymOpt		=	{SymOptions}COptions	=	-r {SymOpt}PPCCOptions	=	-AppleExt On {SymOpt}#	The following two variables define the creator and type for the#	Memory Desk Accessory.  For System 6 compatibility, the build#	instructions should create a "Suitcase" file containing the DA.#	Suitcase files have a creator of 'DMOV' and a type of 'DFIL'.  For#	System 7 and newer, DA's can exist all by themselves, without being#	wrapped in the "womb" of the Suitcase file.  This makes it easier#	to manipulate the DA file, since the Suitcase doesn't have to be#	opened first.  DA's can be treated just like any other application.#	In this case, the creator should be 'movr' and the type should be#	'dfil' (note the difference in character case).DACreator	=	'movr'	# change to 'DMOV' for System 6 useDAType		=	'dfil'	# change to 'DFIL' for System 6 use# The following variable is used to define the ROM map file used by the# TestPerf component.  If necessary, you can change this to point to the# proper location of your machine's ROM map.RomMapLoc	=	"{MPW}ROM Maps:"RomMap	  	=	"Mac`gestalt mach -s`ROM.map"######################################################################## Build instructions and dependencies for the Count tool#VERSION	= "3.4d2".c.x		.c	PPCC {Default}.c -o {Default}.c.x {PPCCOptions}Count	컴	Count.r	GenericCFRG.r	Rez {NewerDeps} -o Count -append -d APPNAME="Count" # The "evaluate" stuff in the MakePEF command is simply a way# of specifying version 1.1a3 of the StdCLib library.  (The# version number format is the same as a 'vers' resource.) The# library version number must be specified to ensure that the native# version of the tool does not use the broken StdCLib in ROM.Count		컴	Count.xcoff	MakePEF Count.xcoff -o Count -ft MPST -fc 'MPS ' 		-l InterfaceLib.xcoff=InterfaceLib 		-l "StdCLib.xcoff=StdCLib#`evaluate 0x01104003`"	if "{SymOpt}" =~ /-sym [NnUu]+/		MakeSym -w Count.xcoff -o Count.xSYM	EndCount.xcoff			Count.c.x	PPCLink {SymOpt} -d Count.c.x 		"{PPCLibraries}"StdCRuntime.o 		"{PPCLibraries}"StdCLib.xcoff 		"{PPCLibraries}"InterfaceLib.xcoff 		"{PPCLibraries}"PPCCRuntime.o 		"{PPCLibraries}"PPCToolLibs.o 		-o Count.xcoffCount 컴 Count.c.o	Link -d -c 'MPS ' -t MPST {SymOpt} -mf 		Count.c.o 		"{CLibraries}"StdClib.o 		"{Libraries}"Stubs.o 		"{Libraries}"MacRuntime.o 		"{Libraries}"IntEnv.o 		"{Libraries}"Interface.o 		"{Libraries}"ToolLibs.o 		-o CountCount	컴	Count.c Count.r Makefile	SetVersion -t 'vers' -i 1 -version "{VERSION}" Count	SetFile -m . -c 'MPS ' -t MPST Count######################################################################## Build instructions and dependencies for the Memory desk accessory#Memory			컴	Memory.c.o DAEntry.a.o 	Link {SymOptions} -da -rt DRVR=12 		-m DAEntry -sg Memory				# DAEntry is located in DAEntry.a.o 		DAEntry.a.o							# This must preceed DRVRRuntime.o 		"{Libraries}"DRVRRuntime.o			# This must preceed Runtime.o 		Memory.c.o 		"{Libraries}"MacRuntime.o 		"{Libraries}"Interface.o 		-o Memory -c {DACreator} -t {DAType}Memory			컴	Memory.r	Rez -rd -c {DACreator} -t {DAType} Memory.r -a -o MemoryMemory.NOASM			Memory.DRVW Memory.r	Rez -rd -c {DACreator} -t {DAType} -d NOASM_BUILD Memory.r -o Memory.NOASM	Duplicate -y Memory.NOASM MemoryMemory.DRVW 		Memory.c.o	Link -w -rt DRVW=0 		-sg Memory 		"{Libraries}"DRVRRuntime.o 		Memory.c.o 		"{Libraries}"MacRuntime.o 		"{Libraries}"Interface.o 		-o Memory.DRVW -c "????" -t "????"######################################################################## Build instructions and dependencies for the TestPerf tool#TestPerf		TestPerf.c.o	Link -d # suppress duplicate warnings 		-o TestPerf -t MPST -c 'MPS ' 		-l -la > TestPerf.map # produce link map file 		TestPerf.c.o "{Libraries}"PerformLib.o 		"{Libraries}"Interface.o 		"{Libraries}"MacRuntime.o 		"{Libraries}"IntEnv.o 		"{CLibraries}"StdCLib.o	Set ThisDir `Directory`	Directory {RomMapLoc}	Make {RomMap} >"{TempFolder}"Make.Out	"{TempFolder}"Make.Out && Delete "{TempFolder}"Make.out	Directory {ThisDir}	Unset ThisDir	Catenate {RomMapLoc}{ROMMap} >>TestPerf.map