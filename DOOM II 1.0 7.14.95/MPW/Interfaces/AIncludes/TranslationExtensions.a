;;	File:		TranslationExtensions.a;;	Copyright:	© 1984-1994 by Apple Computer, Inc.;				All rights reserved.;;	Version:	Universal Interfaces 2.0a3  ETO #16, MPW prerelease.  Friday, November 11, 1994. ;;	Bugs?:		If you find a problem with this file, send the file and version;				information (from above) and the problem description to:;;					Internet:	apple.bugs@applelink.apple.com;					AppleLink:	APPLE.BUGS;;	IF &TYPE('__TRANSLATIONEXTENSIONS__') = 'UNDEFINED' THEN__TRANSLATIONEXTENSIONS__ SET 1	IF &TYPE('__MEMORY__') = 'UNDEFINED' THEN	include 'Memory.a'	ENDIF;		include 'Types.a'											;;			include 'ConditionalMacros.a'							;;		include 'MixedMode.a'										;	IF &TYPE('__FILES__') = 'UNDEFINED' THEN	include 'Files.a'	ENDIF;		include 'OSUtils.a'										;	IF &TYPE('__QUICKDRAW__') = 'UNDEFINED' THEN	include 'Quickdraw.a'	ENDIF;		include 'QuickdrawText.a'									;	IF &TYPE('__COMPONENTS__') = 'UNDEFINED' THEN	include 'Components.a'	ENDIFkSupportsFileTranslation		EQU		1kSupportsScrapTranslation		EQU		2kTranslatorCanGenerateFilename	EQU		4taDstDocNeedsResourceFork		EQU		1taDstIsAppTranslation			EQU		2FileTypeSpec 			RECORD	0format					 ds.l	1hint					 ds.l	1flags					 ds.l	1									; taDstDocNeedsResourceFork, taDstIsAppTranslationcatInfoType				 ds.l	1catInfoCreator			 ds.l	1sizeof					 EQU	20						ENDRFileTranslationList 	RECORD	0modDate					 ds.l	1groupCount				 ds.l	1; 	unsigned long	group1SrcCount;; 	unsigned long	group1SrcEntrySize = sizeof(FileTypeSpec);;  FileTypeSpec	group1SrcTypes[group1SrcCount];  unsigned long	group1DstCount;;  unsigned long	group1DstEntrySize = sizeof(FileTypeSpec);;  FileTypeSpec	group1DstTypes[group1DstCount]sizeof					 EQU	8						ENDRScrapTypeSpec 			RECORD	0format					 ds.l	1hint					 ds.l	1sizeof					 EQU	8						ENDRScrapTranslationList 	RECORD	0modDate					 ds.l	1groupCount				 ds.l	1; 	unsigned long		group1SrcCount;; 	unsigned long		group1SrcEntrySize = sizeof(ScrapTypeSpec);;  ScrapTypeSpec		group1SrcTypes[group1SrcCount];  unsigned long		group1DstCount;; 	unsigned long		group1DstEntrySize = sizeof(ScrapTypeSpec);;  ScrapTypeSpec		group1DstTypes[group1DstCount]sizeof					 EQU	8						ENDR; definition of callbacks to update progress dialog;****************************************************************************************;*;* This routine sets the advertisement in the top half of the progress dialog.;* It is called once at the beginning of your DoTranslateFile routine.;*;* Enter:	refNum			Translation reference supplied to DoTranslateFile.;*			advertisement	A handle to the picture to display.  This must be non-purgable.;*							Before returning from DoTranslateFile, you should dispose;*							of the memory.  (Normally, it is in the temp translation heap;*							so it is cleaned up for you.);*;* Exit:	returns			noErr, paramErr, or memFullErr;	IF GENERATING68K THEN		Macro		_SetTranslationAdvertisement			moveq	#2,d0			dc.w 	$ABFC		EndM	ELSE		IMPORT	SetTranslationAdvertisement	ENDIF;****************************************************************************************;*;* This routine updates the progress bar in the progress dialog.;* It is called repeatedly from within your DoTranslateFile routine.;* It should be called often, so that the user will get feedback if he tries to cancel.;*;* Enter:	refNum		translation reference supplied to DoTranslateFile.;*			progress	percent complete (0-100);*;* Exit:		canceled	TRUE if the user clicked the Cancel button, FALSE otherwise;*			returns		noErr, paramErr, or memFullErr;	IF GENERATING68K THEN		Macro		_UpdateTranslationProgress			moveq	#1,d0			dc.w 	$ABFC		EndM	ELSE		IMPORT	UpdateTranslationProgress	ENDIF; ComponentMgr selectors for routineskTranslateGetFileTranslationList EQU		0					; component selectorskTranslateIdentifyFile			EQU		1kTranslateTranslateFile			EQU		2kTranslateGetTranslatedFilename	EQU		3kTranslateGetScrapTranslationList EQU		10				; skip to scrap routineskTranslateIdentifyScrap			EQU		11kTranslateTranslateScrap		EQU		12; Routines to implment in a file translation extension; Routine to implement in a scrap translation extension	ENDIF ; __TRANSLATIONEXTENSIONS__